
<!doctype html>
<html ng-app="typeaheadApp">
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.js"></script>
    <script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.13.0.js"></script>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>

	<script type="text/ng-template" id="userTypeaheadRow.html">
	  <a ng-disabled="true" class="cd-typeaheadrow">
	    <div class="name">{{match.model.name}}  <span class="email">{{match.model.company}}</span></div>
	    <div class="company">{{match.model.userId}} &lt;<span>{{match.model.email}}</span>&gt;</div>
	  </a>
	</script>

	<div>
		<div class="container-fluid" ng-controller="TypeaheadCtrl">
			<h2>Angular.js Typeahead</h2>
			<div class="form-group">
		        <input type="text" class="form-control cd-docperm-typeahead" placeholder="Search Users"
		          typeahead="user as user.userId for user in users | filter:$viewValue | limitTo:8"
		          ng-model="typeaheadSelected"
		          ng-change="clearBadSearchCriteria()"
		          typeahead-min-length="3"
		          typeahead-template-url="userTypeaheadRow.html"
		          typeahead-wait-ms="100"
		        />
			</div>
		</div>
	</div>

	<script type="text/javascript">
	var app = angular.module('typeaheadApp', ['ui.bootstrap']);

	app.controller('TypeaheadCtrl', function($scope, Users) {
		$scope.typeaheadSelected = '';
		$scope.users = Users;

	});

	app.factory('Users', function() {
		var users = [
  {"userId": "tcopper", "name": "Tiancum Copper", "company": "Acme", "email": "tcopper@gmail.com", "userType": "EXTERNAL", "admin": true},
  {"userId": "mbystedt", "name": "Heather McLane", "company": "Cisco", "email": "hrobinso@cisco.com", "userType": "INTERNAL", "admin": true},
  {"userId": "dsunder", "name": "David Sundersingh", "company": "Cisco", "email": "dsunder@cisco.com", "userType": "INTERNAL", "admin": true},
  {"userId": "jacob", "name": "Heather Bob", "company": "Cisco", "email": "hrobinbo@cisco.com", "userType": "INTERNAL", "admin": true},
  {"userId": "josh", "name": "Josh Hill", "company": "Acme", "email": "jhill@gmail.com", "userType": "EXTERNAL", "admin": true},
  {"userId": "deadted", "name": "Ted Bob", "company": "Acme", "email": "teddead@gmail.com", "userType": "EXTERNAL", "admin": true},
  {"userId": "mred", "name": "Better Red", "company": "Acme", "email": "mred@gmail.com", "userType": "EXTERNAL", "admin": true},
  {"userId": "maven", "name": "Moroni Maven", "company": "Acme", "email": "moroni@gmail.com", "userType": "EXTERNAL", "admin": true},
  {"userId": "tiancum", "name": "Tiancum Train", "company": "Acme", "email": "tiancum@gmail.com", "userType": "EXTERNAL", "admin": true},
  {"userId": "bianica", "name": "Heather Jellyfish", "company": "Acme", "email": "hrobinje@gmail.com", "userType": "EXTERNAL", "admin": true},
  {"userId": "trill", "name": "Trillium Flower", "company": "Acme", "email": "trill@gmail.com", "userType": "EXTERNAL", "admin": true}
];

		return users;
	});

	</script>

 </body>
</html>